const khmerData = {
    alphabet: [
        { char: 'ក', image: 'images/KH_Alphabet/Bitmap 0.png', sound: 'ka', youtubeId: 'dQw4w9WgXcQ' },
        { char: 'ខ', image: 'images/KH_Alphabet/Bitmap 1.png', sound: 'kha', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'គ', image: 'images/KH_Alphabet/Bitmap 2.png', sound: 'ko', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឃ', image: 'images/KH_Alphabet/Bitmap 3.png', sound: 'kho', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ង', image: 'images/KH_Alphabet/Bitmap 4.png', sound: 'ngo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ច', image: 'images/KH_Alphabet/Bitmap 5.png', sound: 'cho', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឆ', image: 'images/KH_Alphabet/Bitmap 6.png', sound: 'chha', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ជ', image: 'images/KH_Alphabet/Bitmap 7.png', sound: 'jo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឈ', image: 'images/KH_Alphabet/Bitmap 8.png', sound: 'jha', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ញ', image: 'images/KH_Alphabet/Bitmap 9.png', sound: 'nyo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ដ', image: 'images/KH_Alphabet/Bitmap 10.png', sound: 'da', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឋ', image: 'images/KH_Alphabet/Bitmap 11.png', sound: 'dha', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឌ', image: 'images/KH_Alphabet/Bitmap 12.png', sound: 'do', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឍ', image: 'images/KH_Alphabet/Bitmap 13.png', sound: 'dho', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ណ', image: 'images/KH_Alphabet/Bitmap 14.png', sound: 'na', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ត', image: 'images/KH_Alphabet/Bitmap 15.png', sound: 'ta', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ថ', image: 'images/KH_Alphabet/Bitmap 16.png', sound: 'tha', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឌ', image: 'images/KH_Alphabet/Bitmap 17.png', sound: 'to', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ធ', image: 'images/KH_Alphabet/Bitmap 18.png', sound: 'tho', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ន', image: 'images/KH_Alphabet/Bitmap 19.png', sound: 'no', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ប', image: 'images/KH_Alphabet/Bitmap 20.png', sound: 'ba', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ផ', image: 'images/KH_Alphabet/Bitmap 21.png', sound: 'pha', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ព', image: 'images/KH_Alphabet/Bitmap 22.png', sound: 'po', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ភ', image: 'images/KH_Alphabet/Bitmap 23.png', sound: 'pho', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ម', image: 'images/KH_Alphabet/Bitmap 24.png', sound: 'mo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'យ', image: 'images/KH_Alphabet/Bitmap 25.png', sound: 'yo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'រ', image: 'images/KH_Alphabet/Bitmap 26.png', sound: 'ro', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ល', image: 'images/KH_Alphabet/Bitmap 27.png', sound: 'lo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'វ', image: 'images/KH_Alphabet/Bitmap 28.png', sound: 'vo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ស', image: 'images/KH_Alphabet/Bitmap 29.png', sound: 'so', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ហ', image: 'images/KH_Alphabet/Bitmap 30.png', sound: 'ho', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឡ', image: 'images/KH_Alphabet/Bitmap 31.png', sound: 'la', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'អ', image: 'images/KH_Alphabet/Bitmap 32.png', sound: 'a', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
    ],
    vowels: [
        { char: 'ា', image: 'images/KH_Vowels/2.png', sound: 'ee', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ិ', image: 'images/KH_Vowels/3.png', sound: 'ooo', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ី', image: 'images/KH_Vowels/4.png', sound: 'aaa', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឹ', image: 'images/KH_Vowels/5.png', sound: 'uuu', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឺ', image: 'images/KH_Vowels/6.png', sound: 'ppp', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ុ', image: 'images/KH_Vowels/7.png', sound: 'ppp', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ូ', image: 'images/KH_Vowels/8.png', sound: 'eee', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ួ', image: 'images/KH_Vowels/9.png', sound: '222', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ើ', image: 'images/KH_Vowels/10.png', sound: '111', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ឿ', image: 'images/KH_Vowels/11.png', sound: '333', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ៀ', image: 'images/KH_Vowels/12.png', sound: '444', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'េ', image: 'images/KH_Vowels/13.png', sound: '555', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ែ', image: 'images/KH_Vowels/14.png', sound: '666', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ៃ', image: 'images/KH_Vowels/15.png', sound: '777', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ោ', image: 'images/KH_Vowels/16.png', sound: '888', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ៅ', image: 'images/KH_Vowels/17.png', sound: '999', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ុំ', image: 'images/KH_Vowels/18.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ំ', image: 'images/KH_Vowels/19.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ាំ', image: 'images/KH_Vowels/20.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ះ', image: 'images/KH_Vowels/21.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ុះ', image: 'images/KH_Vowels/22.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'េះ', image: 'images/KH_Vowels/23.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: 'ោះ', image: 'images/KH_Vowels/24.png', sound: '000', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
    ],
    numbers: [
        { char: '១', image: 'images/number/1.png', sound: '1', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '២', image: 'images/number/2.png', sound: '2', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៣', image: 'images/number/3.png', sound: '3', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៤', image: 'images/number/4.png', sound: '4', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៥', image: 'images/number/5.png', sound: '5', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៦', image: 'images/number/6.png', sound: '6', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៧', image: 'images/number/7.png', sound: '7', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៨', image: 'images/number/8.png', sound: '8', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '៩', image: 'images/number/9.png', sound: '9', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
        { char: '១០', image: 'images/number/10.png', sound: '10', youtubeId: 'YOUR_YOUTUBE_ID_HERE' },
    ],
};

function playSound(character) {
    try {
        const audio = new Audio(`sounds/${character}.mp3`); // Construct the audio file path
        audio.play();
    } catch (error) {
        console.error("Error playing sound:", error);
    }
}

function displayCharacter(character, imageSrc, youtubeId) {
    document.getElementById('displayed-character').textContent = character;
    document.getElementById('displayed-image').src = imageSrc;

    const videoContainer = document.getElementById('youtube-video-container');
    videoContainer.innerHTML = ''; // Clear any existing video

    if (youtubeId) {
        const iframe = document.createElement('iframe');
        iframe.width = 480; // Match the width of the displayed image
        iframe.height = 270; // 480 * (9/16) standard aspect ratio, youtube videos are 16:9
        iframe.src = `https://www.youtube.com/embed/${youtubeId}`;
        iframe.frameBorder = '0';
        iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
        iframe.allowFullscreen = true;

        videoContainer.appendChild(iframe);
    } else {
        videoContainer.textContent = 'No video available for this character.';
    }
}


function createCharacterGrid(sectionId, dataArray) {
    const grid = document.getElementById(sectionId);
    grid.innerHTML = ''; // Clear existing content

    dataArray.forEach(item => {
        const cell = document.createElement('div');
        cell.className = 'character-cell';

        const button = document.createElement('button');
        button.type = 'button';
        button.setAttribute('aria-hidden', 'true');
        button.onclick = function() {
            playSound(item.sound);
            displayCharacter(item.char, item.image, item.youtubeId);
        };

        const image = document.createElement('img');
        image.src = item.image;
        image.alt = item.char;
        image.width = 100;
        image.height = 71;

        button.appendChild(document.createTextNode(item.char));
        button.appendChild(image);

        cell.appendChild(button);
        grid.appendChild(cell);
    });
}

// Call these functions after the DOM is loaded.
document.addEventListener('DOMContentLoaded', () => {
    createCharacterGrid('character-grid-alphabet', khmerData.alphabet);
    createCharacterGrid('character-grid-numbers', khmerData.numbers);
    createCharacterGrid('character-grid-vowels', khmerData.vowels);
});
