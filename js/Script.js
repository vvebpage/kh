const khmerData = {
    alphabet: [
      { char: 'ក', image: 'images/KH_Alphabet/Bitmap 0.png', sound: 'ka' },
      { char: 'ខ', image: 'images/KH_Alphabet/Bitmap 1.png', sound: 'kha' },
      { char: 'គ', image: 'images/KH_Alphabet/Bitmap 2.png', sound: 'ko' },
      { char: 'ឃ', image: 'images/KH_Alphabet/Bitmap 3.png', sound: 'kho' },
      { char: 'ង', image: 'images/KH_Alphabet/Bitmap 4.png', sound: 'ngo' },
      { char: 'ច', image: 'images/KH_Alphabet/Bitmap 5.png', sound: 'cho' },
      { char: 'ឆ', image: 'images/KH_Alphabet/Bitmap 6.png', sound: 'chha' },
      { char: 'ជ', image: 'images/KH_Alphabet/Bitmap 7.png', sound: 'jo' },
      { char: 'ឈ', image: 'images/KH_Alphabet/Bitmap 8.png', sound: 'jha' },
      { char: 'ញ', image: 'images/KH_Alphabet/Bitmap 9.png', sound: 'nyo' },
      { char: 'ដ', image: 'images/KH_Alphabet/Bitmap 10.png', sound: 'da' },
      { char: 'ឋ', image: 'images/KH_Alphabet/Bitmap 11.png', sound: 'dha' },
      { char: 'ឌ', image: 'images/KH_Alphabet/Bitmap 12.png', sound: 'do' },
      { char: 'ឍ', image: 'images/KH_Alphabet/Bitmap 13.png', sound: 'dho' },
      { char: 'ណ', image: 'images/KH_Alphabet/Bitmap 14.png', sound: 'na' },
      { char: 'ត', image: 'images/KH_Alphabet/Bitmap 15.png', sound: 'ta' },
      { char: 'ថ', image: 'images/KH_Alphabet/Bitmap 16.png', sound: 'tha' },
      { char: 'ឌ', image: 'images/KH_Alphabet/Bitmap 17.png', sound: 'to' },
      { char: 'ធ', image: 'images/KH_Alphabet/Bitmap 18.png', sound: 'tho' },
      { char: 'ន', image: 'images/KH_Alphabet/Bitmap 19.png', sound: 'no' },
      { char: 'ប', image: 'images/KH_Alphabet/Bitmap 20.png', sound: 'ba' },
      { char: 'ផ', image: 'images/KH_Alphabet/Bitmap 21.png', sound: 'pha' },
      { char: 'ព', image: 'images/KH_Alphabet/Bitmap 22.png', sound: 'po' },
      { char: 'ភ', image: 'images/KH_Alphabet/Bitmap 23.png', sound: 'pho' },
      { char: 'ម', image: 'images/KH_Alphabet/Bitmap 24.png', sound: 'mo' },
      { char: 'យ', image: 'images/KH_Alphabet/Bitmap 25.png', sound: 'yo' },
      { char: 'រ', image: 'images/KH_Alphabet/Bitmap 26.png', sound: 'ro' },
      { char: 'ល', image: 'images/KH_Alphabet/Bitmap 27.png', sound: 'lo' },
      { char: 'វ', image: 'images/KH_Alphabet/Bitmap 28.png', sound: 'vo' },
      { char: 'ស', image: 'images/KH_Alphabet/Bitmap 29.png', sound: 'so' },
      { char: 'ហ', image: 'images/KH_Alphabet/Bitmap 30.png', sound: 'ho' },
      { char: 'ឡ', image: 'images/KH_Alphabet/Bitmap 31.png', sound: 'la' },
      { char: 'អ', image: 'images/KH_Alphabet/Bitmap 32.png', sound: 'a' },
      ],
      vowels:[
        { char: 'ា', image: 'images/KH_Vowels/2.png', sound: 'ee' },
        { char: 'ិ', image: 'images/KH_Vowels/3.png', sound: 'ooo' },
        { char: 'ី', image: 'images/KH_Vowels/4.png', sound: 'aaa' },
        { char: 'ឹ', image: 'images/KH_Vowels/5.png', sound: 'uuu' },
        { char: 'ឺ', image: 'images/KH_Vowels/6.png', sound: 'ppp' },
        { char: 'ុ', image: 'images/KH_Vowels/7.png', sound: 'ppp' },
        { char: 'ូ', image: 'images/KH_Vowels/8.png', sound: 'eee' },
        { char: 'ួ', image: 'images/KH_Vowels/9.png', sound: '222' },
        { char: 'ើ', image: 'images/KH_Vowels/10.png', sound: '111' },
        { char: 'ឿ', image: 'images/KH_Vowels/11.png', sound: '333' },
        { char: 'ៀ', image: 'images/KH_Vowels/12.png', sound: '444' },
        { char: 'េ', image: 'images/KH_Vowels/13.png', sound: '555' },
        { char: 'ែ', image: 'images/KH_Vowels/14.png', sound: '666' },
        { char: 'ៃ', image: 'images/KH_Vowels/15.png', sound: '777' },
        { char: 'ោ', image: 'images/KH_Vowels/16.png', sound: '888' },
        { char: 'ៅ', image: 'images/KH_Vowels/17.png', sound: '999' },
        { char: 'ុំ', image: 'images/KH_Vowels/18.png', sound: '000' },
        { char: 'ំ', image: 'images/KH_Vowels/19.png', sound: '000' },
        { char: 'ាំ', image: 'images/KH_Vowels/20.png', sound: '000' },
		{ char: 'ះ', image: 'images/KH_Vowels/21.png', sound: '000' },
		{ char: 'ុះ', image: 'images/KH_Vowels/22.png', sound: '000' },
		{ char: 'េះ', image: 'images/KH_Vowels/23.png', sound: '000' },
		{ char: 'ោះ', image: 'images/KH_Vowels/24.png', sound: '000' },
     ],
    numbers: [
        { char: '១', image: 'images/number/1.png', sound: '1' },
        { char: '២', image: 'images/number/2.png', sound: '2' },
        { char: '៣', image: 'images/number/3.png', sound: '3' },
        { char: '៤', image: 'images/number/4.png', sound: '4' },
        { char: '៥', image: 'images/number/5.png', sound: '5' },
        { char: '៦', image: 'images/number/6.png', sound: '6' },
        { char: '៧', image: 'images/number/7.png', sound: '7' },
        { char: '៨', image: 'images/number/8.png', sound: '8' },
        { char: '៩', image: 'images/number/9.png', sound: '9' },
        { char: '១០', image: 'images/number/10.png', sound: '10' },
    ],

  };

function playSound(character) {
    try {
        const audio = new Audio(`sounds/${character}.mp3`); // Construct the audio file path
        audio.play();
    } catch (error) {
        console.error("Error playing sound:", error);
    }
}

function createCharacterGrid(sectionId, dataArray) {
    const grid = document.getElementById(sectionId);
    grid.innerHTML = ''; // Clear existing content

    dataArray.forEach(item => {
        const cell = document.createElement('div');
        cell.className = 'character-cell';

        const button = document.createElement('button');
        button.type = 'button';
        button.setAttribute('aria-hidden', 'true');
        button.onclick = function() {
            playSound(item.sound);
            displayCharacter(item.char, item.image);
        };

        const image = document.createElement('img');
        image.src = item.image;
        image.alt = item.char;
        image.width = 100;
        image.height = 71;

        button.appendChild(document.createTextNode(item.char));
        button.appendChild(image);

        cell.appendChild(button);
        grid.appendChild(cell);
    });
}

function displayCharacter(character, imageSrc) {
    document.getElementById('displayed-character').textContent = character;
    document.getElementById('displayed-image').src = imageSrc;
}

// Call these functions after the DOM is loaded.
document.addEventListener('DOMContentLoaded', () => {
    createCharacterGrid('character-grid-alphabet', khmerData.alphabet);
    createCharacterGrid('character-grid-numbers', khmerData.numbers);
    createCharacterGrid('character-grid-vowels', khmerData.vowels);
});